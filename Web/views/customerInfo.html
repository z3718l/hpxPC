<div ng-controller="customerController">
    <div class="bill-query-cont">
        <div class="guide-bar" ng-if="model.trade_level_code == 1102 || model.trade_level_code == 1103 || identity.is_verified == 0">
            <div class="guide-bar-cont">
                <div class="guide-line"></div>
                <div class="guide-order" style="width: 23%">
                    <span class="guide-order-bgcolor-sel">1</span>
                    <p>注册用户</p>
                </div>
                <div class="guide-order" style="width: 23%">
                    <span ng-class="{ 'guide-order-bgcolor': identity.is_verified == 0, 'guide-order-bgcolor-do': identity.is_verified == -1 || identity.is_verified == 2, 'guide-order-bgcolor-sel': identity.is_verified == 1 || identity.is_verified >= 3 }">2</span>
                    <p>企业绑定</p>
                </div>
                <div class="guide-order" style="width: 23%">
                    <span ng-class="{ 'guide-order-bgcolor': identity.is_verified == 0 || identity.is_verified == -1 || identity.is_verified == 2, 'guide-order-bgcolor-do': identity.is_verified == 3, 'guide-order-bgcolor-sel': identity.is_verified == 1 || identity.is_verified >= 4 }">3</span>
                    <p>账户绑定</p>
                </div>
                <div class="guide-order" style="width: 23%">
                    <span ng-class="{ 'guide-order-bgcolor': identity.is_verified != 1, 'guide-order-bgcolor-sel': identity.is_verified == 1 }">4</span>
                    <p>开始交易</p>
                </div>
            </div>
        </div>
        <div class="guide-bar" ng-if="model.trade_level_code == 1104 && identity.is_verified != 0">
            <div class="guide-bar-cont">
                <div class="guide-line"></div>
                <div class="guide-order" style="width: 23%">
                    <span class="guide-order-bgcolor-sel">1</span>
                    <p>注册用户</p>
                </div>
                <div class="guide-order" style="width: 23%">
                    <span ng-class="{ 'guide-order-bgcolor': identity.is_verified == 0, 'guide-order-bgcolor-do': identity.is_verified == -1 || identity.is_verified == 2, 'guide-order-bgcolor-sel': identity.is_verified == 1 || identity.is_verified >= 3 }">2</span>
                    <p>企业绑定</p>
                </div>
                <div class="guide-order" style="width: 23%">
                    <span ng-class="{ 'guide-order-bgcolor': identity.is_verified == 0 || identity.is_verified == -1 || identity.is_verified == 2, 'guide-order-bgcolor-do': identity.is_verified == 3 || identity.is_verified == 5, 'guide-order-bgcolor-sel': identity.is_verified == 1 || identity.is_verified == 4 }">3</span>
                    <p>出票账户绑定</p>
                </div>
                <div class="guide-order" style="width: 23%">
                    <span ng-class="{ 'guide-order-bgcolor': identity.is_verified != 1 && identity.is_verified != 4, 'guide-order-bgcolor-sel': identity.is_verified == 1 || identity.is_verified == 4 }">4</span>
                    <p>开始出票</p>
                </div>
            </div>
        </div>
        <div class="guide-bar" ng-if="model.trade_level_code == 1104 && identity.is_verified != 0">
            <div class="guide-bar-cont">
                <div class="guide-line"></div>
                <div class="guide-order" style="width: 23%">
                    <span class="guide-order-bgcolor-sel">1</span>
                    <p>注册用户</p>
                </div>
                <div class="guide-order" style="width: 23%">
                    <span ng-class="{ 'guide-order-bgcolor': identity.is_verified == 0, 'guide-order-bgcolor-do': identity.is_verified == -1 || identity.is_verified == 2, 'guide-order-bgcolor-sel': identity.is_verified == 1 || identity.is_verified >= 3 }">2</span>
                    <p>企业绑定</p>
                </div>
                <div class="guide-order" style="width: 23%">
                    <span ng-class="{ 'guide-order-bgcolor': identity.is_verified == 0 || identity.is_verified == -1 || identity.is_verified == 2, 'guide-order-bgcolor-do': identity.is_verified == 3 || identity.is_verified == 4, 'guide-order-bgcolor-sel': identity.is_verified == 1 || identity.is_verified == 5 }">3</span>
                    <p>收票账户绑定</p>
                </div>
                <div class="guide-order" style="width: 23%">
                    <span ng-class="{ 'guide-order-bgcolor': identity.is_verified != 1 && identity.is_verified != 5, 'guide-order-bgcolor-sel': identity.is_verified == 1 || identity.is_verified == 5 }">4</span>
                    <p>开始收票</p>
                </div>
            </div>
        </div>
        <div class="form-horizontal">
            <div class="form-group">
                <label class="control-label col-md-2"><font colore="red">审核状态：</font></label>
                <div class="col-md-10">
                    <div class="form-control-static"><font color="red"><strong>{{ model.verify_status }}</strong></font></div>
                </div>
            </div>
            <div class="form-group">
                <div ng-if="model.is_verified== -1">
                    <label class="control-label col-md-2">审核描述：</label>
                    <div class="col-md-10">
                        <div class="form-control-static"><font color="blue">{{ model.verify_description }}</font></div>
                    </div>
                </div>
            </div>
            <div class="user-line-hd"><strong>必要资料</strong></div>
            <ng-form name="editForm" novalidate ng-if="model.is_verified == 0">
                <div class="form-group">
                    <label class="col-md-2 control-label"><font color="red">*</font>企业名称: </label>
                    <div class="col-md-6">
                        <input type="text" name="enterprise_name" ng-model="model.enterprise_name" class="form-control" />
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-md-2 control-label"><font color="red">*</font>联系人: </label>
                    <div class="col-md-4">
                        <input type="text" name="customer_name" ng-model="model.customer_name" class="form-control" required />
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-md-2 control-label"><font color="red">*</font> 证件照片: </label>
                    <div class="col-sm-4 upload-tu" ngf-select="uploadFiles($files, $invalidFiles, setFrontID)" ngf-pattern="'image/*'" accept="image/*" ngf-max-size="10MB">
                        <img style="height: 180px; width: 280px;" ng-src="{{model.credential_front_photo_path}}" required />
                    </div>
                    <div class="clearfix"></div>
                </div>
                <div class="form-group">
                    <div class="col-md-5" align="right">营业执照</div>
                </div>
                <div class="user-line-hd"><strong>附加资料</strong></div>
                <div class="form-group">
                    <label class="control-label col-md-2">手机号：</label>
                    <div class="col-md-4">
                        <div class="form-control-static">{{ model.phone_number }}</div>
                    </div>
                    <label class="control-label col-md-2">客户级别：</label>
                    <div class="col-md-4">
                        <div class="form-control-static">{{ model.customer_level_name }}</div>
                    </div>
                </div>
                <div class="form-group">
                    <label class="control-label col-md-2">客户类型: </label>
                    <div class="col-md-4  form-control-static">
                        <span ng-repeat="item in customerTypeData">
                            <input type="radio" value="{{item.code}}" ng-model="model.customer_type_code" required> {{ item.constant_name }}
                        </span>
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-md-2 control-label">所在省市: </label>
                    <div class="col-md-10 form-inline">
                        <select class="form-control width-150" ng-model="model.enterprise_province_id" ng-options="item.id as item.address_name for item in ProvinceData" ng-change="provinceChange()">
                            <option value="">省或直辖市</option>
                        </select>
                        <select class="form-control width-150" ng-model="model.enterprise_city_id" ng-options="item.id as item.address_name for item in CityData" ng-change="cityChange()">
                            <option value="">市</option>
                        </select>
                        <select class="form-control width-150" ng-model="model.enterprise_address_id" ng-options="item.id as item.address_name for item in AddressData">
                            <option value="">区</option>
                        </select>
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-md-2 control-label">详细地址: </label>
                    <div class="col-md-10">
                        <input type="text" name="enterprise_address" ng-model="model.enterprise_address" class="form-control" placeholder="输入除省市区以外的地址部分" />
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-md-2 control-label">固定电话: </label>
                    <div class="col-md-4">
                        <input type="text" name="telephone" ng-model="model.telephone" class="form-control" placeholder="区号+电话号码，例:021 88888888" />
                    </div>
                    <label class="col-md-2 control-label">传真号码: </label>
                    <div class="col-md-4">
                        <input type="text" name="fax_number" ng-model="model.fax_number" class="form-control" placeholder="区号+电话号码，例:021 88888888" />
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-md-2 control-label">QQ：</label>
                    <div class="col-md-4">
                        <input type="text" name="customer_name" ng-model="model.qq" class="form-control" placeholder="请输入QQ号,此项可空缺" />
                    </div>
                    <label class="col-md-2 control-label">邮箱：</label>
                    <div class="col-md-4">
                        <input type="text" name="customer_name" ng-model="model.email" class="form-control" placeholder="请输入常用邮箱，此项可空缺" />
                    </div>
                </div>
                <div class="form-inline filter-option">
                    <div class="row">
                        <div class="col-md-12 text-center">
                            <button type="submit" class="btn btn-sm btn-success" ng-disabled="editForm.$invalid" ng-if="model.is_verified == 0" ng-click="save()"><i class="fa fa-save"></i> 提交审核</button>
                        </div>
                    </div>
                </div>
            </ng-form>
            <ng-form name="amendForm" novalidate ng-if="model.is_verified != 0">
                <div class="form-group">
                    <label class="col-md-2 control-label">联系人：</label>
                    <div class="col-md-4">
                        <div class="form-control-static">{{ model.customer_name }}</div>
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-md-2 control-label">证件照片: </label>
                    <div class="col-sm-4 upload-tu">
                        <img style="height: 180px; width: 280px;" ng-src="{{model.credential_front_photo_path}}" />
                    </div>
                    <div class="clearfix"></div>
                </div>
                <div class="form-group">
                    <div class="col-md-5" align="right">营业执照</div>
                </div>
                <div class="user-line-hd"><strong>附加资料</strong></div>
                <div class="form-group">
                    <label class="control-label col-md-2">手机号：</label>
                    <div class="col-md-4">
                        <div class="form-control-static">{{ model.phone_number }}</div>
                    </div>
                    <label class="control-label col-md-2">客户级别：</label>
                    <div class="col-md-4">
                        <div class="form-control-static">{{ model.customer_level_name }}</div>
                    </div>
                </div>
                <div class="form-group">
                    <label class="control-label col-md-2">客户类型: </label>
                    <div class="col-md-10">
                        <div class="form-control-static">{{ model.customer_type_name }}</div>
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-md-2 control-label">客户名称: </label>
                    <div class="col-md-10">
                        <div class="form-control-static">{{ model.enterprise_name }}</div>
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-md-2 control-label">所在省市: </label>
                    <div class="col-md-10 form-inline">
                        <div class="form-control-static">{{ model.enterprise_province_name }} {{ model.enterprise_city_name }} {{ model.enterprise_address_name }}</div>
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-md-2 control-label">详细地址: </label>
                    <div class="col-md-10">
                        <div class="form-control-static">{{ model.enterprise_address }}</div>
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-md-2 control-label">固定电话: </label>
                    <div class="col-md-4">
                        <div class="form-control-static">{{ model.telephone }}</div>
                    </div>
                    <label class="col-md-2 control-label">传真号码: </label>
                    <div class="col-md-4">
                        <div class="form-control-static">{{ model.fax_number }}</div>
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-md-2 control-label">QQ：</label>
                    <div class="col-md-4">
                        <div class="form-control-static">{{ model.qq }}</div>
                    </div>
                    <label class="col-md-2 control-label">邮箱：</label>
                    <div class="col-md-4">
                        <div class="form-control-static">{{ model.email }}</div>
                    </div>
                </div>
                <div class="form-inline filter-option">
                    <div class="row">
                        <div class="col-md-12 text-center">
                            <button type="submit" class="btn btn-sm btn-success" ng-if="model.is_verified != 0 && model.is_verified != 2" ng-click="submit()"><i class="fa fa-save"></i> 修改</button>
                        </div>
                    </div>
                </div>
            </ng-form>
        </div>
    </div>
    <div class="modal fade" id="modal-license">
        <div class="modal-dialog">
            <div class="modal-content text-center">
                <img src="assets/img/license.jpg" />
            </div>
        </div>
    </div>
</div>